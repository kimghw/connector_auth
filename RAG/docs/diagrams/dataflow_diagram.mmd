
graph LR
    subgraph "Input"
        PDF[PDF File]
        TXT[TXT File]
        Query[Search Query]
    end

    subgraph "Processing Pipeline"
        Extract[Text<br/>Extraction]
        Clean[Text<br/>Cleaning]
        Chunk[Chunking<br/>512 tokens]
        Embed[Embedding<br/>Generation]
        Index[Vector<br/>Indexing]
    end

    subgraph "Storage"
        Meta[(Metadata)]
        Vectors[(Vectors)]
        Files[(Files)]
    end

    subgraph "Search Pipeline"
        QEmbed[Query<br/>Embedding]
        VSim[Vector<br/>Similarity]
        Rank[Re-ranking]
    end

    subgraph "Output"
        Results[Search<br/>Results]
    end

    PDF --> Extract
    TXT --> Extract
    Extract --> Clean
    Clean --> Chunk
    Chunk --> Embed
    Embed --> Index

    Extract --> Meta
    Chunk --> Meta
    Index --> Vectors
    PDF --> Files
    TXT --> Files

    Query --> QEmbed
    QEmbed --> VSim
    Vectors --> VSim
    VSim --> Rank
    Meta --> Rank
    Rank --> Results

    style Extract fill:#faa,stroke:#333,stroke-width:2px
    style Embed fill:#afa,stroke:#333,stroke-width:2px
    style VSim fill:#aaf,stroke:#333,stroke-width:2px
    