# Cloudflare Tunnel Configuration
# 사용 전 수정 필요 항목:
# 1. <TUNNEL_ID>를 실제 터널 ID로 변경
# 2. yourdomain.com을 실제 도메인으로 변경
# 3. 필요에 따라 서비스 포트 수정

tunnel: <TUNNEL_ID>
credentials-file: /home/kimghw/.cloudflared/<TUNNEL_ID>.json

# 터널 라우팅 설정
ingress:
  # MCP Outlook 서버
  - hostname: outlook.kimghw.com
    service: http://localhost:3000
    originRequest:
      noTLSVerify: false
      connectTimeout: 30s

  # MCP File Handler 서버
  - hostname: files.yourdomain.com
    service: http://localhost:3001
    originRequest:
      noTLSVerify: false
      connectTimeout: 30s

  # MCP Editor 서버
  - hostname: editor.yourdomain.com
    service: http://localhost:8080
    originRequest:
      noTLSVerify: false
      connectTimeout: 30s

  # Callback 서버 (OAuth 콜백용)
  - hostname: auth.yourdomain.com
    service: http://localhost:5000
    originRequest:
      noTLSVerify: false
      connectTimeout: 30s

  # 404 페이지 (일치하는 호스트가 없을 경우)
  - service: http_status:404

# 추가 설정 (선택사항)
# no-autoupdate: true  # 자동 업데이트 비활성화
# grace-period: 30s     # 종료 대기 시간
# loglevel: info        # 로그 레벨 (debug, info, warn, error)
# transport-loglevel: warn  # 전송 로그 레벨